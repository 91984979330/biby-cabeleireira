<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Biby Cabeleleira</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo do Sal√£o Beleza Natural">
    </div>
    <nav>
      <ul>
        <li><a href="#servicos">Servi√ßos</a></li>
        <li><a href="#contato">Contato</a></li>
      </ul>
    </nav>
    <div class="botoes">
      <button class="agendar" onclick="mostrarFormulario()">Agendar</button>
    </div>
  </header>

  <section class="banner">
    <img src="banner.jpg" alt="Banner do Sal√£o Beleza Natural">
  </section>

  <section class="servicos" id="servicos">
    <h2>SERVI√áOS</h2>
    <p>Qual √© o ideal para voc√™?</p>
    <div class="cards">
      <div class="card">
        <img src="transformacao.jpg" alt="Transforma√ß√£o">
        <h3>TRANSFORMA√á√ÉO</h3>
        <ul class="lista-servico">
          <li>Escova</li>
          <li>Aplica√ß√£o de C√≠lios</li>
          <li>Design e Henna</li>
        </ul>
      </div>
      <div class="card">
        <img src="tratamentos.jpg" alt="Tratamentos">
        <h3>TRATAMENTOS</h3>
        <ul class="lista-servico">
          <li>Botox</li>
          <li>Hidrata√ß√£o</li>
          <li>Selagem</li>
        </ul>
      </div>
      <div class="card">
        <img src="coloracao.jpg" alt="Colora√ß√£o">
        <h3>COLORA√á√ÉO</h3>
        <ul class="lista-servico">
          <li>Colora√ß√£o</li>
          <li>Mechas e luzes</li>
          <li>Maquiagem</li>
        </ul>
      </div>
    </div>
  </section>

  <section class="agendamento" id="agendamento" style="display: none;">
    <h2>Agende seu hor√°rio</h2>
    <form id="form-agendamento">
      <label for="servico">Qual o servi√ßo?</label>
      <select id="servico" name="servico" required>
        <option value="">Selecione...</option>
        <option value="Transforma√ß√£o">Transforma√ß√£o</option>
        <option value="Tratamento">Tratamento</option>
        <option value="Colora√ß√£o">Colora√ß√£o</option>
      </select>

      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" required>

      <label for="telefone">Telefone:</label>
      <input type="tel" id="telefone" name="telefone" required>

      <label for="data">Data:</label>
      <input type="date" id="data" name="data" required>

      <label for="hora">Hora:</label>
      <input type="time" id="hora" name="hora" required>

      <button type="submit">Confirmar Agendamento</button>
    </form>
    <div id="mensagem" class="mensagem-alerta"></div>
  </section>

  <section class="contato" id="contato">
    <h2>Entre em contato</h2>
    <div class="info-contato">
      <div class="card-contato">
        <p><span>üìû</span> <strong>Celular:</strong> <a href="https://wa.me/559183246846" target="_blank">(91) 91983246846</a></p>
      </div>
      <div class="card-contato">
        <p><span>üì∏</span> <strong>Instagram:</strong> <a href="https://www.instagram.com/bibycabeleireira/" target="_blank">bibycabeleireira</a></p>
      </div>
      <div class="card-contato">
        <p><span>üìç</span> <strong>Endere√ßo:</strong> Tv. S√£o Sebasti√£o, 33 - Bel√©m, PA</p>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 BIBY CABELELEIRA - Todos os direitos reservados</p>
  </footer>

  <!-- Integra√ß√£o Firebase + envio para Firestore -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    // TROQUE PELO SEU CONFIG DO FIREBASE
    const firebaseConfig = {
  apiKey: "AIzaSyDIXe5v0UpQGGRZtzA3aJmpnHRd2VvZAuQ",
  authDomain: "biby-agenda.firebaseapp.com",
  projectId: "biby-agenda",
  storageBucket: "biby-agenda.firebasestorage.app",
  messagingSenderId: "645152639694",
  appId: "1:645152639694:web:f021a4ba95835c2d40de9f",
  measurementId: "G-KNYXV9M6FJ"
};

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Exibe formul√°rio ao clicar no bot√£o "Agendar"
    window.mostrarFormulario = function mostrarFormulario() {
      const sec = document.getElementById("agendamento");
      sec.style.display = "block";
      window.scrollTo({ top: sec.offsetTop, behavior: "smooth" });
    };

    // Formul√°rio: valida e envia para Firestore
    document.getElementById("form-agendamento").addEventListener("submit", async function(e) {
      e.preventDefault();

      const servico = document.getElementById("servico").value;
      const nome = document.getElementById("nome").value.trim();
      const telefone = document.getElementById("telefone").value.trim();
      const data = document.getElementById("data").value;
      const hora = document.getElementById("hora").value;
      const mensagem = document.getElementById("mensagem");

      let camposFaltando = [];
      if (!servico) camposFaltando.push("Servi√ßo");
      if (!nome) camposFaltando.push("Nome");
      if (!telefone) camposFaltando.push("Telefone");
      if (!data) camposFaltando.push("Data");
      if (!hora) camposFaltando.push("Hora");

      mensagem.classList.remove("mensagem-sucesso", "mensagem-erro");
      mensagem.style.display = "block";

      if (camposFaltando.length > 0) {
        mensagem.textContent = `‚ùå Preencha todo o formul√°rio. Faltou: ${camposFaltando.join(", ")}`;
        mensagem.classList.add("mensagem-erro");
        return;
      }

      try {
        await addDoc(collection(db, "agendamentos"), {
          servico, nome, telefone, data, hora, status: "pendente", criadoEm: new Date().toISOString()
        });
        mensagem.textContent = "‚úÖ Agendamento enviado! Aguarde confirma√ß√£o.";
        mensagem.classList.add("mensagem-sucesso");
        this.reset();
      } catch (error) {
        console.error(error);
        mensagem.textContent = "‚ùå Erro ao enviar agendamento. Tente novamente.";
        mensagem.classList.add("mensagem-erro");
      }
    });
  </script>
</body>
</html>